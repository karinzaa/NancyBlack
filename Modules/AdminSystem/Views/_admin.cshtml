@inherits NantCom.NancyBlack.NancyBlackRazorViewBase
@{
    Layout = "_base";
}

@section Head
{
    <link href="/Content/Scripts/jsoneditor/jsoneditor.min.css" rel="stylesheet" />

    @RenderSection("Head", false)
}

@section Title
{
    @RenderSection("Title", false)
}

@helper DisplayMenu() {

    <li><b>Data</b></li>
    @{ 
        var skip = new string[] { "rowversion", "sitesettings" };
    }

    @foreach (var item in this.Database.DataType.RegisteredTypes)
    {
        @if (skip.Contains(item.NormalizedName))
        {
            continue;
        }

        <li><a href="/Admin/Tables/@item.NormalizedName">@item.OriginalName</a></li>
    }
    <li><b>Manage</b></li>
    <li><a href="/Admin/SiteSettings">Site Settings</a></li>
    <li><a href="/Admin/Tables">Data Types</a></li>
    <li><a href="/Admin/DataWatcher">Data Watch</a></li>
    <li><a href="/Admin/Membership/Roles">User Role</a></li>
}

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">

            </a>
        </div>
        <div class="navbar-collapse collapse">
            <ul id="hamburger" class="nav navbar-nav navbar-right" style="margin-right: 10px">
                @DisplayMenu()
                <li></li>
                <li class="always"><a href="/__membership/logout">Logout</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="container-fluid main">
    <div class="row">
        <div class="col-md-2">

            <ul class="nav nav-sidebar sidebar">
                @DisplayMenu()
            </ul>
        </div>
        <div class="col-md-9">
            @RenderBody()
        </div>
    </div>
</div>

@section Scripts
{
    <script src="/Content/Scripts/jsoneditor/jsoneditor.min.js"></script>
    @RenderSection("Scripts", false)
    @RenderSection("Script", false)
}